# 本地搭建服务器用于测试unity热更新

### Window版本

1. **Nginx本地服务器**

   - 下载 https://nginx.org/en/download.html  选择 Mainline version 的 Windows zip 包

   - 解压到C:\nginx

   - 打开 C:\nginx\conf\nginx.conf

   - ```
     把这个：
     location / {
         root   html;
         index  index.html index.htm;
     }
     
     修改为：
     location / {
         root   D:/HotUpdateFiles;
         autoindex on;  # 显示目录
     }
     ```

   - 启动 Nginx

   - 停止/重启

     ```
     nginx -s stop
     nginx -s reload
     ```

   - 浏览器访问 http://localhost 看到文件列表就成功了。

   

2. **Apache HTTP Server**

   - Apache 与 Nginx 的核心区别

   | 对比项       | Apache                                                 | Nginx                                            |
   | ------------ | ------------------------------------------------------ | ------------------------------------------------ |
   | 设计理念     | 早期以进程/线程驱动模型为主（每个连接占一个线程/进程） | 事件驱动（异步非阻塞，单进程可同时处理大量连接） |
   | 静态文件性能 | 高并发下性能不如 Nginx（线程开销大）                   | 高并发、静态文件性能更强                         |
   | 动态内容处理 | 自带强大动态模块（PHP、Perl、CGI）直接运行             | 动态内容需交给其他服务（如 PHP-FPM）             |
   | 配置难度     | 模块多、功能强，但配置较复杂                           | 模块精简、配置文件简单直观                       |
   | 扩展性       | 大量第三方模块，功能全                                 | 模块少但专注性能和反向代理                       |
   | 资源占用     | 高并发下内存、CPU 占用高                               | 内存占用低，资源利用率高                         |
   | Windows 支持 | 支持较好（老牌 Windows 版本）                          | 支持但主要面向 Linux（Windows 上性能略差）       |

   - 适合场景

     **Apache**

     •	有大量动态页面（PHP / Perl / CGI）

     •	老系统迁移或需要复杂的 .htaccess 配置

     •	对 Windows 兼容要求高（尤其老版本 Windows）

     **Nginx**

     •	高并发静态文件分发（AB 包、图片、视频等）

     •	反向代理、负载均衡、网关服务

     •	静态资源占比高，动态逻辑交给后端服务处理

   - 本地 Unity 热更新测试建议
     	•	热更新资源是 静态文件（AssetBundle、热更 DLL） → Nginx 更适合，启动轻快、配置简洁。
     	•	Apache 也能做，但启动内存开销大，配置更复杂，而且 Apache 在处理大量静态文件时性能不如 Nginx。
     	•	如果想在同一服务器上顺便跑动态 API（比如排行榜、玩家数据接口），Apache 可能更省事，因为它直接就能执行 PHP/CGI，不用额外搭 PHP-FPM。

   

   

